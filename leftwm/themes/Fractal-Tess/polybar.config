;==========================================================
;
;
;   ██████╗  ██████╗ ██╗  ██╗   ██╗██████╗  █████╗ ██████╗
;   ██╔══██╗██╔═══██╗██║  ╚██╗ ██╔╝██╔══██╗██╔══██╗██╔══██╗
;   ██████╔╝██║   ██║██║   ╚████╔╝ ██████╔╝███████║██████╔╝
;   ██╔═══╝ ██║   ██║██║    ╚██╔╝  ██╔══██╗██╔══██║██╔══██╗
;   ██║     ╚██████╔╝███████╗██║   ██████╔╝██║  ██║██║  ██║
;   ╚═╝      ╚═════╝ ╚══════╝╚═╝   ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝
;
;
;   To learn more about how to configure Polybar
;   go to https://github.com/jaagr/polybar
;
;   The README contains a lot of information
;
;==========================================================

[colors]
background =        #90222222
foreground =        #E8DFD6
background-alt =    #99444444
foreground-alt =    #FFFFFF
primary =           #44B5B1
secondary =         #FF5879
alert =             #C2454E
green =             #7CBF9E
blue =              #9ED9D8




; ========================================================= screen 1
[bar/first_screen_first_bar]
inherit = bar/barbase
modules-left = workspace0
modules-right = cava pulseaudio backlight  xkeyboard  filesystem memory  cpu_load temperature battery  wlan  date 
tray-position = right

padding-right = 2
padding-left = 0


[module/workspace0]
type = custom/script
exec = leftwm-state -w 0 -t $SCRIPTPATH/template.liquid
tail = true


; ========================================================= screen 2
[bar/second_screen_first_bar]
inherit = bar/barbase

tray-position = right
tray-padding = 2

modules-left =  launcher sep workspace1 

offset-x = 1910
offset-y = 8
width = 550
height = 22

radius = 8px
padding-left = 2
padding-right = 2
module-margin-left = 0
module-margin-right = 2

[bar/second_screen_second_bar]
inherit = bar/barbase
modules-right = mpd 
modules-left = filesystem sep xwindow 

offset-x = 100
offset-y = 8
width = 1460
height = 22

radius = 8px
padding-left = 2
padding-right = 2
module-margin-left = 0
module-margin-right = 2






[module/workspace1]
type = custom/script
exec = leftwm-state -w 1 -t $SCRIPTPATH/template.liquid
tail = true


[bar/barbase]
width = 100%
height = 24
offset-x = ${env:offsetx}
offset-y = ${env:offsety}
monitor = ${env:monitor}

module-margin-left = 1
module-margin-right = 1

background = ${colors.background}
foreground = ${colors.foreground}

font-0 = CaskaydiaCove Nerd Font:pixelsize=12:antialias=true;1

;modules-left =
;modules-center =

cursor-click = pointer
cursor-scroll = ns-resize
enable-ipc = true


[module/sep]
type = custom/text
content = "|"

[module/backlight]
type = internal/backlight

; Use the following command to list available cards:
; $ ls -1 /sys/class/backlight/
; Default: first usable card in /sys/class/backlight (new in version 3.7.0)
card = amdgpu_bl0

; Use the `/sys/class/backlight/.../actual-brightness` file
; rather than the regular `brightness` file.
; New in version 3.6.0
; Changed in version: 3.7.0: Defaults to true also on amdgpu backlights
; Default: true
use-actual-brightness = true

; Interval in seconds after which after which the current brightness is read
; (even if no update is detected).
; Use this as a fallback if brightness updates are not registering in polybar
; (which happens if the use-actual-brightness is false).
; There is no guarantee on the precisio of this timing.
; Set to 0 to turn off
; New in version 3.7.0
; Default: 0 (5 if use-actual-brightness is false)
poll-interval = 0

; Enable changing the backlight with the scroll wheel
; NOTE: This may require additional configuration on some systems. Polybar will
; write to `/sys/class/backlight/${self.card}/brightness` which requires polybar
; to have write access to that file.
; DO NOT RUN POLYBAR AS ROOT. 
; The recommended way is to add the user to the
; `video` group and give that group write-privileges for the `brightness` file.
; See the ArchWiki for more information:
; https://wiki.archlinux.org/index.php/Backlight#ACPI
; Default: false
enable-scroll = true

; Interval for changing the brightness (in percentage points).
; New in version 3.7.0
; Default: 5
scroll-interval = 10
; Available tags:
;   <label> (default)
;   <ramp>
;   <bar>
; format = <bar> 
format = <label> 

; Available tokens:
;   %percentage% (default)
label = %percentage%%

; Only applies if <ramp> is used
ramp-0 = 🌕
ramp-1 = 🌔
ramp-2 = 🌓
ramp-3 = 🌒
ramp-4 = 🌑

; Only applies if <bar> is used
bar-width = 10
bar-indicator = |
bar-fill = ─
bar-empty = ─

[module/battery]
type = internal/battery
full-at = 99
low-at = 5
battery = BAT0
adapter = ADP1
poll-interval = 5
; see "man date" for details on how to format the time string
; NOTE: if you want to use syntax tags here you need to use %%{...}
; Default: %H:%M:%S
time-format = %H:%M

; Available tags:
;   <label-charging> (default)
;   <bar-capacity>
;   <ramp-capacity>
;   <animation-charging>
format-charging = <animation-charging>  <label-charging>

; Available tags:
;   <label-discharging> (default)
;   <bar-capacity>
;   <ramp-capacity>
;   <animation-discharging>
format-discharging = <ramp-capacity>  <label-discharging>

; Available tags:
;   <label-full> (default)
;   <bar-capacity>
;   <ramp-capacity>
;format-full = <ramp-capacity> <label-full>

; Format used when battery level drops to low-at
; If not defined, format-discharging is used instead.
; Available tags:
;   <label-low>
;   <animation-low>
;   <bar-capacity>
;   <ramp-capacity>
; New in version 3.6.0
;format-low = <label-low> <animation-low>

; Available tokens:
;   %percentage% (default) - is set to 100 if full-at is reached
;   %percentage_raw%
;   %time%
;   %consumption% (shows current charge rate in watts)
label-charging = C-%percentage%%

; Available tokens:
;   %percentage% (default) - is set to 100 if full-at is reached
;   %percentage_raw%
;   %time%
;   %consumption% (shows current discharge rate in watts)
label-discharging = D-%percentage%%

; Available tokens:
;   %percentage% (default) - is set to 100 if full-at is reached
;   %percentage_raw%
label-full = FC

; Available tokens:
;   %percentage% (default) - is set to 100 if full-at is reached
;   %percentage_raw%
;   %time%
;   %consumption% (shows current discharge rate in watts)
; New in version 3.6.0
label-low = BATTERY LOW

; Only applies if <ramp-capacity> is used
ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 
; see "man date" for details on how to format the time string
; ; NOTE: if you want to use syntax tags here you need to use %%{...}
; ; Default: %H:%M:%S
; time-format = %H:%M
;
; ; Available tags:
; ;   <label-charging> (default)
; ;   <bar-capacity>
; ;   <ramp-capacity>
; ;   <animation-charging>
; format-charging = <animation-charging> <label-charging>
;
; ; Available tags:
; ;   <label-discharging> (default)
; ;   <bar-capacity>
; ;   <ramp-capacity>
; ;   <animation-discharging>
; format-discharging = <ramp-capacity> <label-discharging>
;
; ; Available tags:
; ;   <label-full> (default)
; ;   <bar-capacity>
; ;   <ramp-capacity>
; ;format-full = <ramp-capacity> <label-full>
;
; ; Format used when battery level drops to low-at
; ; If not defined, format-discharging is used instead.
; ; Available tags:
; ;   <label-low>
; ;   <animation-low>
; ;   <bar-capacity>
; ;   <ramp-capacity>
; ; New in version 3.6.0
; ;format-low = <label-low> <animation-low>
;
; ; Available tokens:
; ;   %percentage% (default) - is set to 100 if full-at is reached
; ;   %percentage_raw%
; ;   %time%
; ;   %consumption% (shows current charge rate in watts)
; label-charging = Charging %percentage%%
;
; ; Available tokens:
; ;   %percentage% (default) - is set to 100 if full-at is reached
; ;   %percentage_raw%
; ;   %time%
; ;   %consumption% (shows current discharge rate in watts)
; label-discharging = Discharging %percentage%%
;
; ; Available tokens:
; ;   %percentage% (default) - is set to 100 if full-at is reached
; ;   %percentage_raw%
; label-full = Fully charged
;
; ; Available tokens:
; ;   %percentage% (default) - is set to 100 if full-at is reached
; ;   %percentage_raw%
; ;   %time%
; ;   %consumption% (shows current discharge rate in watts)
; ; New in version 3.6.0
; label-low = BATTERY LOW
;
; ; Only applies if <ramp-capacity> is used
; ramp-capacity-0 = 
; ramp-capacity-1 = 
; ramp-capacity-2 = 
; ramp-capacity-3 = 
; ramp-capacity-4 = 
;
; ; Only applies if <bar-capacity> is used
; bar-capacity-width = 10
;
; ; Only applies if <animation-charging> is used
; animation-charging-0 = 
; animation-charging-1 = 
; animation-charging-2 = 
; animation-charging-3 = 
; animation-charging-4 = 
; ; Framerate in milliseconds
; animation-charging-framerate = 750
;
; ; Only applies if <animation-discharging> is used
; animation-discharging-0 = 
; animation-discharging-1 = 
; animation-discharging-2 = 
; animation-discharging-3 = 
; animation-discharging-4 = 
; ; Framerate in milliseconds
; animation-discharging-framerate = 500
;
; ; Only applies if <animation-low> is used
; ; New in version 3.6.0
; animation-low-0 = !
; animation-low-1 = 
; animation-low-framerate = 200

; Only applies if <bar-capacity> is used
bar-capacity-width = 10

; Only applies if <animation-charging> is used
animation-charging-0 = 
animation-charging-1 = 
animation-charging-2 = 
animation-charging-3 = 
animation-charging-4 = 
; Framerate in milliseconds
animation-charging-framerate = 750

; Only applies if <animation-discharging> is used
animation-discharging-0 = 
animation-discharging-1 = 
animation-discharging-2 = 
animation-discharging-3 = 
animation-discharging-4 = 
; Framerate in milliseconds
animation-discharging-framerate = 500

; Only applies if <animation-low> is used
; New in version 3.6.0
animation-low-0 = !
animation-low-1 = 
animation-low-framerate = 200

[module/launcher]
type = custom/text
content = 異
content-background = ${colors.background}
content-foreground = ${colors.primary}
click-left = ~/.config/rofi/launchers/type-7/launcher.sh
click-right = launcher_t2





;Modules =================================================================

[module/xwindow]
type = internal/xwindow
label = %title:0:40:...%


[module/xkeyboard]
type = internal/xkeyboard
blacklist-0 = num lock
format-prefix = "  "
format-prefix-foreground = ${colors.foreground-alt}
format-underline = ${colors.primary}
label-layout = %layout%
label-layout-underline = ${colors.primary}
label-indicator-padding = 2
label-indicator-margin = 1
label-indicator-background = ${colors.primary}
label-indicator-underline = ${colors.primary}

[module/filesystem]
type = internal/fs
interval = 5
mount-0 = /
; mount-1 = /mnt/vault
; mount-3 = /mnt/backup
label-mounted = %mountpoint%:%{F#9ED9D8}%percentage_used%%%{F-}
label-unmounted = %mountpoint% not mounted
label-unmounted-foreground = ${colors.foreground-alt}

[module/bspwm]
type = internal/bspwm
label-focused = %index%
label-focused-background = ${colors.background-alt}
label-focused-underline= ${colors.primary}
label-focused-padding = 2
label-occupied = %index%
label-occupied-padding = 2
label-urgent = %index%!
label-urgent-background = ${colors.alert}
label-urgent-padding = 2
label-empty = %index%
label-empty-foreground = ${colors.foreground-alt}
label-empty-padding = 2
; Separator in between workspaces
; label-separator = |

[module/rofi_powermenu]
type = custom/text
content = ⏻
click-left = ~/.config/rofi/powermenu/type-2/powermenu.sh
click-right = launcher_t2
content-foreground = ${colors.secondary}


[module/mpd]
type = internal/mpd
format-online = <label-song> <icon-prev> <toggle> <icon-next>
label-song = %title%
icon-prev = 﫿
icon-play = 契
icon-pause = 
icon-next = ﬀ
label-song-maxlen = 60
label-song-ellipsis = true

[module/cpu_load]
type = internal/cpu
interval = .5
format-prefix = "閭 " 
label = %percentage:2%%
format-prefix-foreground = ${colors.primary}

[module/cava]
type = custom/script
tail = true
exec = $SCRIPTPATH/scripts/cava.sh
format = <label>
label = %output%
format-foreground = ${colors.primary}

[module/temperature]
type = internal/temperature

; Seconds to sleep between updates
; Default: 1
interval = 0.5

; Thermal zone to use
; To list all the zone types, run 
; $ for i in /sys/class/thermal/thermal_zone*; do echo "$i: $(<$i/type)"; done
; Default: 0
thermal-zone = 0

; Select thermal zone by name
; The name has to match the contents of /sys/class/thermal/thermal_zone*/type
; for the desired thermal zone.
; New in version 3.7.0
; Default: ""
zone-type = acpitz

; Full path of temperature sysfs path
; Use `sensors` to find preferred temperature source, then run
; $ for i in /sys/class/hwmon/hwmon*/temp*_input; do echo "$(<$(dirname $i)/name): $(cat ${i%_*}_label 2>/dev/null || echo $(basename ${i%_*})) $(readlink -f $i)"; done
; to find path to desired file
; Default reverts to thermal zone setting
hwmon-path = /sys/devices/virtual/thermal/thermal_zone0/hwmon4/temp1_input
; Base temperature for where to start the ramp (in degrees celsius)
; Default: 0
base-temperature = 20

; Threshold temperature to display warning label (in degrees celsius)
; Default: 80
warn-temperature = 60


[module/cpu_temp]
type = custom/script
exec = $SCRIPTPATH/scripts/cpu_temp.sh
label = %output:2% 糖
format-prefix = "  "
format-prefix-foreground = ${colors.secondary}
interval = 1

[module/gpu_load]
type = custom/script
exec = $SCRIPTPATH/scripts/gpu_load.sh
label = %output:2%%
format-prefix = "閭  "
format-prefix-foreground = ${colors.green}
interval = 1

[module/gpu_temp]
type = custom/script
exec = $SCRIPTPATH/scripts/gpu_temp.sh
label = %output:2% 糖
format-prefix = "  "
format-prefix-foreground = ${colors.secondary}
interval = 1



[module/gpu_fanspeed]
type = custom/script
exec = $SCRIPTPATH/scripts/gpu_fanspeed.sh

label = %output:2%%
format-prefix = "ﯛ "
format-prefix-foreground = ${colors.secondary}
interval = 1

[module/memory]
type = internal/memory
interval = 2
format-prefix = " "
format-prefix-foreground = ${colors.foreground-alt}
format = <label> 
warn-percentage = 75
label = %used:8% %{F#9ED9D8}(%percentage_used%%)%{F-}
#format-warn = %{F#FF5879}<label>%{F-} -> (%{F#9ED9D8}swap <ramp-swap-used>/<ramp-swap-free>%{F-})
label-warn =  %used:8%%{F#9ED9D8}(%percentage_used%%)%{F-}->(%{F#FF5879}%swap_used%/%swap_total%%{F-})
format-warn = <label-warn>


[module/wired-network]
type = internal/network
interface = enp3s0f0u3
interface-type = wireless
interval = .5
label-connected = %{F#7CBF9E}%downspeed:7%  %{F#9ED9D8}%upspeed:7% 

[module/wireless-network]
type = internal/network
interface = wlp2s0
interval = .5
label-connected = %{F#7CBF9E}%downspeed:7%  %{F#9ED9D8}%upspeed:7% 


[module/date]
type = internal/date
date = %%{F#fff}%m/%d/%Y%%{F-}  %%{F#fff}%I:%M %p%{F-}
date-alt = %%{F#fff}%A, %B %d, %Y  %%{F#fff}%I:%M:%{F#666}%%{F#fba922}%S%%{F-} %p
;interval = 5
;date =
;date-alt = " %Y-%m-%d"
;time = %H:%M
;time-alt = %H:%M:%S
format-prefix = " "
format-prefix-foreground = ${colors.foreground-alt}
;format-underline = #0a6cf5
;label = %date% %time%

[module/pulseaudio]
type = internal/pulseaudio
format-volume = <label-volume>
label-volume = %{F#9ED9D8} %percentage%%{F-}
label-volume-foreground = ${root.foreground}
label-muted = "Muted" 
label-muted-foreground = #666


[module/powermenu]
type = custom/menu
expand-right = false
format-spacing = 1
label-open = "⏻"
label-open-foreground = ${colors.secondary}
label-close = "cancel"
label-close-foreground = ${colors.secondary}
label-separator = "|"
label-separator-foreground = ${colors.foreground-alt}

menu-0-0 = "| reboot"
menu-0-0-exec = sudo reboot
menu-0-1 = "power off"
menu-0-1-exec = sudo poweroff


[settings]
screenchange-reload = true
;compositing-background = xor
;compositing-background = screen
;compositing-foreground = source
;compositing-border = over
;pseudo-transparency = false

;[global/wm]
;margin-top = 5
;margin-bottom = 5

; vim:ft=dosini
